webpackJsonp([2],{389:function(t,e,n){n(481);var a=n(32)(n(451),n(508),null,null);t.exports=a.exports},398:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(407),i=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default={props:{rows:{default:function(t){return[]}}},components:{Pagination:i.default},data:function(){return{page:1,pageSize:30}},computed:{total:function(){return this.rows.length},totalPages:function(){return Math.ceil(this.total/this.pageSize)},start:function(){return(this.page-1)*this.pageSize+1},end:function(){var t=this.page*this.pageSize;return t<=this.total?t:this.total}},watch:{rows:function(){this.updateRowVisibility()},pageSize:function(){this.updateRowVisibility()},page:function(){this.updateRowVisibility()}},methods:{updateRowVisibility:function(){var t=this;this.rows.forEach(function(e,n){e.visible=n>=t.start&&n<=t.end})}},created:function(){this.updateRowVisibility()}}},399:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{page:{default:1},total:{default:0},btnCount:{default:5}},data:function(){return{}},computed:{btns:function(){if(this.page>this.total)return[];for(var t=[],e=[],n={page:this.page,text:this.page},a=parseInt(this.page),i=parseInt(this.page),o=this.btnCount-1,s=!0;o>0&&(a>=1||i<=this.total);)s?(s=!s,--a>=1&&(o--,t.splice(0,0,{page:a,text:a}))):(s=!s,++i<=this.total&&(o--,e.push({page:i,text:i})));return[].concat(t,[n],e)}},methods:{goto:function(t){this.$emit("pagination",t)}}}},400:function(t,e,n){e=t.exports=n(383)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"DatatableFooter.vue",sourceRoot:""}])},401:function(t,e,n){e=t.exports=n(383)(!0),e.push([t.i,".pagination .btn-more{color:rgba(0,0,0,.54)!important}.pagination-sm .md-button{padding:0;min-width:inherit;min-height:inherit;width:24px;height:24px;line-height:24px;font-weight:400}","",{version:3,sources:["/home/he/www/works/car-tracking/src/components/Pagination.vue"],names:[],mappings:"AACA,sBACE,+BAAsC,CACvC,AACD,0BACE,UAAa,AACb,kBAAmB,AACnB,mBAAoB,AACpB,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,eAAoB,CACrB",file:"Pagination.vue",sourcesContent:["\n.pagination .btn-more {\n  color: rgba(0, 0, 0, 0.54) !important;\n}\n.pagination-sm .md-button {\n  padding: 0px;\n  min-width: inherit;\n  min-height: inherit;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  font-weight: normal;\n}\n"],sourceRoot:""}])},402:function(t,e,n){var a=n(400);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(384)("61f4f308",a,!0)},403:function(t,e,n){var a=n(401);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(384)("814113bc",a,!0)},406:function(t,e,n){n(402);var a=n(32)(n(398),n(408),null,null);t.exports=a.exports},407:function(t,e,n){n(403);var a=n(32)(n(399),n(409),null,null);t.exports=a.exports},408:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datatable-footer md-table-card"},[n("div",{staticClass:"md-table-pagination"},[n("span",{staticClass:"md-table-pagination-label"},[t._v(t._s(t.$t("rows"))+":")]),t._v(" "),n("md-select",{model:{value:t.pageSize,callback:function(e){t.pageSize=e},expression:"pageSize"}},[n("md-option",{attrs:{value:10}},[t._v("10")]),t._v(" "),n("md-option",{attrs:{value:30}},[t._v("30")]),t._v(" "),n("md-option",{attrs:{value:100}},[t._v("100")])],1),t._v(" "),n("span",{staticClass:"m-r"},[t._v(t._s(t.start)+"-"+t._s(t.end)+" of "+t._s(t.rows.length))]),t._v(" "),n("Pagination",{directives:[{name:"show",rawName:"v-show",value:t.totalPages>1,expression:"totalPages > 1"}],staticClass:"m-r",attrs:{total:t.totalPages,page:t.page},on:{pagination:function(e){t.page=e}}})],1)])},staticRenderFns:[]}},409:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination pagination-sm"},[n("div",{staticClass:"md-button-toggle md-primary md-theme-default"},[t.page>1?n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.goto(t.page-1)}}},[n("md-icon",[t._v("keyboard_arrow_left")])],1):t._e(),t._v(" "),t.btns[0]&&t.btns[0].page>1?n("md-button",{staticClass:"md-icon-button btn-more",nativeOn:{click:function(e){t.goto(t.btns[0].page-1)}}},[n("md-icon",[t._v("more_horiz")])],1):t._e(),t._v(" "),t._l(t.btns,function(e,a){return n("md-button",{key:a,staticClass:"md-icon-button",class:{"md-toggle":e.page==t.page},nativeOn:{click:function(n){t.goto(e.page)}}},[t._v("\n       "+t._s(e.text)+"\n     ")])}),t._v(" "),t.btns[t.btns.length-1]&&t.btns[t.btns.length-1].page<t.total?n("md-button",{staticClass:"md-icon-button btn-more",nativeOn:{click:function(e){t.goto(t.btns[t.btns.length-1].page+1)}}},[n("md-icon",[t._v("more_horiz")])],1):t._e(),t._v(" "),t.page<t.total?n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.goto(t.page+1)}}},[n("md-icon",[t._v("keyboard_arrow_right")])],1):t._e()],2)])},staticRenderFns:[]}},451:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(406),i=function(t){return t&&t.__esModule?t:{default:t}}(a),o=n(47),s=n(65);e.default={components:{DatatableFooter:i.default},data:function(){return{title:this.$t("settings"),datatables:{company:{columns:[{name:"company_code"},{name:"company_id"},{name:"company_key"},{name:"company_name"},{name:"contact_name"},{name:"contact_phone_no"},{name:"create_ts"},{name:"status"},{name:"timezone"},{name:"version"}]},driver:{columns:[{name:"company_id"},{name:"create_ts"},{name:"create_user"},{name:"dob"},{name:"driver_code"},{name:"driver_id"},{name:"is_default"},{name:"name"},{name:"phone_home"},{name:"phone_mobile"},{name:"phone_office"},{name:"update_ts"},{name:"update_user"},{name:"version"}]},driver_group:{columns:[{name:"company_id"},{name:"create_ts"},{name:"create_user"},{name:"drv_grp_id"},{name:"grp_alias"},{name:"grp_descpt"},{name:"update_ts"},{name:"update_user"},{name:"version"}]},driver_group_dtl:{columns:[{name:"create_ts"},{name:"create_user"},{name:"driver_id"},{name:"drv_grp_dtl_id"},{name:"drv_grp_id"},{name:"update_ts"},{name:"update_user"},{name:"version"}]},mob_device:{columns:[{name:"active_end_date"},{name:"active_start_date"},{name:"apps_id"},{name:"apps_timezone"},{name:"apps_ts"},{name:"apps_ver_no"},{name:"company_id"},{name:"create_ts"},{name:"create_user"},{name:"last_access_ts"},{name:"last_loc_update_ts"},{name:"lat"},{name:"lng"},{name:"md_id"},{name:"md_sn"},{name:"status"},{name:"update_ts"},{name:"update_user"},{name:"version"},{name:"vrm_id"}]},user_account:{columns:[{name:"company_id"},{name:"create_ts"},{name:"fullname"},{name:"group_id"},{name:"lang"},{name:"last_login_ts"},{name:"password"},{name:"retry_count"},{name:"status"},{name:"user_id"},{name:"username"},{name:"version"}]},user_group:{columns:[{name:"company_id"},{name:"group_id"},{name:"group_name"}]},user_group_func:{columns:[{name:"func_code"},{name:"group_func_id"},{name:"group_id"}]},users:{columns:[{name:"company"},{name:"def_lang"},{name:"def_map"},{name:"first_name"},{name:"id"},{name:"last_name"},{name:"login_name"},{name:"password"}]},vehicle:{columns:[{name:"brand"},{name:"company_id"},{name:"create_ts"},{name:"create_user"},{name:"fuel_usage"},{name:"idle_duration_non-trf"},{name:"idle_duration_trf"},{name:"latest_trip_distance"},{name:"latest_trip_duration"},{name:"model"},{name:"run_distance"},{name:"run_duration"},{name:"update_ts"},{name:"update_user"},{name:"vehicle_id"},{name:"version"},{name:"year"}]},veh_reg_mark:{columns:[{name:"company_id"},{name:"create_ts"},{name:"create_user"},{name:"def_drv_id"},{name:"status"},{name:"update_ts"},{name:"update_user"},{name:"vehicle_id"},{name:"version"},{name:"vrm_id"},{name:"vrm_mark_code"}]},veh_reg_mark_group:{columns:[{name:"company_id"},{name:"create_ts"},{name:"create_user"},{name:"grp_alias"},{name:"grp_descpt"},{name:"update_ts"},{name:"update_user"},{name:"version"},{name:"vrm_grp_id"}]},veh_reg_mark_group_dtl:{columns:[{name:"create_ts"},{name:"create_user"},{name:"update_ts"},{name:"update_user"},{name:"version"},{name:"vrm_grp_dtl_id"},{name:"vrm_grp_id"},{name:"vrm_id"}]},warning_type:{columns:[{name:"warn_type_code"},{name:"warn_type_id"}]}},rows:[],current:"company",loading:!1,newRow:{},editingRow:{}}},computed:{currentColumns:function(){return this.datatables[this.current].columns},api:function(){return"dao/"+this.current}},watch:{current:{immediate:!0,handler:function(t,e){this.rows=[],this.getData()}}},created:function(){for(var t in this.datatables){var e=this.datatables[t];e.name||this.$set(e,"name",t),e.text||this.$set(e,"text",(0,o.titleCase)(e.name)),(0,s.initColumns)(this,e.columns)}},mounted:function(){var t=this;this.$nextTick(function(){document.title=t.title})},methods:{getData:function(t){var e=this;this.loading=!0,(0,o.retry)(function(){return e.$http.get(e.api)})().then(function(t){var n=t.data;e.rows=n.JSON,(0,s.initRows)(e,e.rows,e.currentColumns),e.loading=!1}).catch(function(t){throw e.loading=!1,e.$alert("load data failed"),t})},onSort:function(t){(0,s.sortRows)(t,this.rows,this.currentColumns)},add:function(){var t={};this.currentColumns.forEach(function(e){t[e.name]=null}),this.newRow=t,this.$refs.dialogAdd.open()},saveNew:function(){var t=this;(0,s.axiosAutoProxy)(this.$http,this.api,"post",(0,s.beforeSave)(this.newRow)).then(function(e){var n=e.data;"error"===n?t.$alert("Save Failed"):-1===n.toLowerCase().indexOf("succe")?t.$alert(n):(t.$alert(n),t.getData(),t.$refs.dialogAdd.close())})},closeDialogAdd:function(){this.newRow={},this.$refs.dialogAdd.close()},edit:function(t){this.editingRow=(0,s.getRowData)(t),this.$refs.dialogEdit.open()},saveEditing:function(){var t=this;(0,s.axiosAutoProxy)(this.$http,this.api,"post",(0,s.beforeSave)(this.editingRow)).then(function(e){var n=e.data;"error"===n?t.$alert("Save Failed"):-1===n.toLowerCase().indexOf("succe")?t.$alert(n):(t.$alert(n),t.getData(),t.$refs.dialogEdit.close())})},closeDialogEdit:function(){this.editingRow={},this.$refs.dialogEdit.close()},remove:function(t){var e=this;this.$confirm("Are you sure to remove specified item?").then(function(){(0,s.axiosAutoProxy)(e.$http,e.api,"delete",t).then(function(t){var n=t.data;"error"===n?e.$alert("Remove Failed"):-1===n.toLowerCase().indexOf("succe")?e.$alert(n):(e.$alert(n),e.getData())})}).catch(function(t){if("cancel"!==t.message)throw t})},save:function(){},saved:function(){}}}},466:function(t,e,n){e=t.exports=n(383)(!0),e.push([t.i,".datatables-select{width:auto;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;margin:0;padding:0;height:41px;min-height:0;padding-left:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.datatables-select .md-select-value{font-size:20px}.datatables-actions .md-table-cell-container{padding-left:12px!important}","",{version:3,sources:["/home/he/www/works/car-tracking/src/views/Datatables.vue"],names:[],mappings:"AACA,mBACE,WAAY,AACZ,2BAA4B,AAC5B,2BAA4B,AAC5B,oBAAqB,AACrB,SAAU,AACV,UAAW,AACX,YAAa,AACb,aAAoB,AACpB,iBAAkB,AAClB,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC7B,AACD,oCACI,cAAgB,CACnB,AACD,6CACE,2BAA8B,CAC/B",file:"Datatables.vue",sourcesContent:["\n.datatables-select {\n  width: auto;\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  margin: 0;\n  padding: 0;\n  height: 41px;\n  min-height: initial;\n  padding-left: 5px;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.datatables-select .md-select-value {\n    font-size: 20px;\n}\n.datatables-actions .md-table-cell-container {\n  padding-left: 12px !important;\n}\n"],sourceRoot:""}])},481:function(t,e,n){var a=n(466);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(384)("f1ea6058",a,!0)},508:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{staticClass:"m-a card-1"},[n("md-card-content",[n("md-input-container",{staticClass:"datatables-select",attrs:{"md-inline":""}},[n("md-select",{attrs:{name:"datatableSelect"},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}},t._l(t.datatables,function(e){return n("md-option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.text))])}))],1),t._v(" "),n("div",{staticClass:"relative overflow-hidden-y"},[n("md-table",{on:{select:function(t){},sort:t.onSort}},[n("md-table-header",[n("md-table-row",[n("md-table-head",[t._v("Actions")]),t._v(" "),t._l(t.currentColumns,function(e){return e.visible?n("md-table-head",{key:e.name,attrs:{"md-sort-by":e.name}},[t._v(t._s(e.text))]):t._e()})],2)],1),t._v(" "),n("md-table-body",t._l(t.rows,function(e){return n("md-table-row",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"row.visible"}],key:e.avg_warn_id,attrs:{"md-item":e}},[n("md-table-cell",{staticClass:"datatables-actions"},[n("md-button",{staticClass:"md-icon-button md-primary md-dense",nativeOn:{click:function(n){t.edit(e)}}},[n("md-icon",[t._v("edit")]),t._v(" "),n("md-tooltip",{attrs:{"md-direction":"bottom"}},[t._v("Edit")])],1),t._v(" "),n("md-button",{staticClass:"md-icon-button md-accent md-dense",nativeOn:{click:function(n){t.remove(e)}}},[n("md-icon",[t._v("remove_circle")]),t._v(" "),n("md-tooltip",{attrs:{"md-direction":"bottom"}},[t._v("Remove")])],1)],1),t._v(" "),t._l(t.currentColumns,function(a){return a.visible?n("md-table-cell",{key:a.name},[t._v("\n             "+t._s(e[a.name])+"\n           ")]):t._e()})],2)}))],1),t._v(" "),n("Datatable-Footer",{attrs:{rows:t.rows}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"absolute-backdrop center-wrapper"},[n("md-spinner",{attrs:{"md-indeterminate":""}})],1)],1),t._v(" "),n("div",{staticClass:"card-buttons"},[n("md-button",{staticClass:"md-icon-button",attrs:{id:"addItem"},nativeOn:{click:function(e){t.add()}}},[n("md-icon",[t._v("add")]),t._v(" "),n("md-tooltip",{attrs:{"md-direction":"bottom"}},[t._v("New")])],1),t._v(" "),n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.getData()}}},[n("md-icon",[t._v("refresh")]),t._v(" "),n("md-tooltip",{attrs:{"md-direction":"bottom"}},[t._v(t._s(t.$t("refresh")))])],1),t._v(" "),n("fullscreen-button")],1),t._v(" "),n("md-dialog",{ref:"dialogAdd",attrs:{"md-open-from":"#addItem","md-close-to":"#addItem","md-click-outside-to-close":!1,"md-esc-to-close":!1}},[n("md-dialog-title",[t._v("New Item")]),t._v(" "),n("md-dialog-content",[n("form",{attrs:{novalidate:""},on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.saveNew()}}},[n("md-layout",{attrs:{"md-gutter":16}},t._l(t.currentColumns,function(e){return n("md-layout",{key:e.name,attrs:{"md-flex-xsmall":"100","md-flex-medium":"50","md-flex-large":"33"}},[n("md-input-container",[n("label",[t._v(t._s(e.text))]),t._v(" "),n("md-input",{model:{value:t.newRow[e.name],callback:function(n){var a=t.newRow,i=e.name;Array.isArray(a)?a.splice(i,1,n):t.newRow[e.name]=n},expression:"newRow[field.name]"}})],1)],1)})),t._v(" "),n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-1"}),t._v(" "),n("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.closeDialogAdd()}}},[t._v("Cancel")]),t._v(" "),n("md-button",{staticClass:"md-primary",attrs:{type:"submit"}},[t._v("Save")])],1)],1)])],1),t._v(" "),n("md-dialog",{ref:"dialogEdit",attrs:{"md-click-outside-to-close":!1,"md-esc-to-close":!1}},[n("md-dialog-title",[t._v("Edit Item")]),t._v(" "),n("md-dialog-content",[n("form",{attrs:{novalidate:""},on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.saveEditing()}}},[n("md-layout",{attrs:{"md-gutter":16}},t._l(t.currentColumns,function(e){return n("md-layout",{key:e.name,attrs:{"md-flex-xsmall":"100","md-flex-medium":"50","md-flex-large":"33"}},[n("md-input-container",[n("label",[t._v(t._s(e.text))]),t._v(" "),n("md-input",{model:{value:t.editingRow[e.name],callback:function(n){var a=t.editingRow,i=e.name;Array.isArray(a)?a.splice(i,1,n):t.editingRow[e.name]=n},expression:"editingRow[field.name]"}})],1)],1)})),t._v(" "),n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-1"}),t._v(" "),n("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.closeDialogEdit()}}},[t._v("Cancel")]),t._v(" "),n("md-button",{staticClass:"md-primary",attrs:{type:"submit"}},[t._v("Save")])],1)],1)])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=2.d27cb8e384b2890f6001.js.map