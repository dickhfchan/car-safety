webpackJsonp([11],{391:function(e,t,s){s(487);var a=s(32)(s(453),s(514),null,null);e.exports=a.exports},453:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{serverUrls:this.$store.state.urls.server,validation:{},fields:{name:{text:this.$t("username"),rules:"required"},password:{text:this.$t("password"),rules:"required"}}}},computed:{lang:{get:function(){return this.$store.state.lang},set:function(e){var t=this;setTimeout(function(){window.localStorage.setItem("lang",e),t.$store.commit("lang",e)},200)}}},methods:{submit:function(){var e=this;this.validation.check().then(function(t){e.$http.get("/dao/authentication/"+t.name+"?password="+t.password+"&company_code="+e.$route.params.companyCode).then(function(t){var s=t.data;if(s&&"Success"===s.message){e.$store.commit("authenticated",!0);var a=s.JSON[0];e.$store.commit("user",a),e.$store.commit("lang",a.lang),e.$router.push({name:"dashboard"}),e.$emit("success",a)}else e.$alert(e.$t("loginFailed")),e.$emit("error")}).catch(function(t){e.$alert(e.$t("loginFailed")),e.$emit("error")})})}},created:function(){this.$validate(this.validation,this.fields),this.$store.commit("companyCode",this.$route.params.companyCode)}}},472:function(e,t,s){t=e.exports=s(383)(!0),t.push([e.i,".login{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-top:100px}.login-card{width:350px}","",{version:3,sources:["/home/he/www/works/car-tracking/src/views/Login.vue"],names:[],mappings:"AACA,OACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,iBAAmB,CACpB,AACD,YACE,WAAa,CACd",file:"Login.vue",sourcesContent:["\n.login {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding-top: 100px;\n}\n.login-card {\n  width: 350px;\n}\n"],sourceRoot:""}])},487:function(e,t,s){var a=s(472);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(384)("fe9f8d90",a,!0)},514:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"card-holder"},[s("md-card",{staticClass:"login-card"},[s("md-card-header",[s("div",{staticClass:"md-title"},[e._v(e._s(e.$t("brand")))]),e._v(" "),s("div",{staticClass:"md-subhead"},[e._v(e._s(e.$t("loginSubtitle")))])]),e._v(" "),s("md-card-content",[s("form",{attrs:{novalidate:""},on:{submit:function(t){t.stopPropagation(),t.preventDefault(),e.submit(t)}}},[s("md-input-container",{class:e.fields.name.getValidationClass()},[s("md-icon",[e._v("person")]),e._v(" "),s("label",[e._v(e._s(e.fields.name.text))]),e._v(" "),s("md-input",{attrs:{required:e.fields.name.required},model:{value:e.fields.name.value,callback:function(t){e.fields.name.value=t},expression:"fields.name.value"}}),e._v(" "),e.fields.name.isValidationErrorsVisible()?e._l(e.fields.name.errors,function(t){return s("span",{staticClass:"md-error"},[e._v(e._s(t.message))])}):e._e()],2),e._v(" "),s("md-input-container",{class:e.fields.password.getValidationClass(),attrs:{"md-has-password":""}},[s("md-icon",[e._v("lock")]),e._v(" "),s("label",[e._v(e._s(e.fields.password.text))]),e._v(" "),s("md-input",{attrs:{type:"password",required:e.fields.password.required},model:{value:e.fields.password.value,callback:function(t){e.fields.password.value=t},expression:"fields.password.value"}}),e._v(" "),e.fields.password.isValidationErrorsVisible()?e._l(e.fields.password.errors,function(t){return s("span",{staticClass:"md-error"},[e._v(e._s(t.message))])}):e._e()],2),e._v(" "),s("md-input-container",[s("label",{attrs:{for:"langSelect"}},[e._v(e._s(e.$t("language")))]),e._v(" "),s("md-select",{attrs:{name:"lang",id:"langSelect"},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}},[s("md-option",{attrs:{value:"en"}},[e._v(e._s(e.$t("Englsih")))]),e._v(" "),s("md-option",{attrs:{value:"zh-cn"}},[e._v(e._s(e.$t("simplifiedChinese")))]),e._v(" "),s("md-option",{attrs:{value:"zh-tw"}},[e._v(e._s(e.$t("traditionalChinese")))])],1)],1),e._v(" "),s("md-button",{staticClass:"md-raised md-primary m-a-0",attrs:{type:"submit"}},[e._v(e._s(e.$t("signIn")))]),e._v(" "),e.$store.state.builtAt?s("div",{staticClass:"m-t grey"},[s("small",[e._v("Built at: "+e._s(e.$store.state.builtAt))])]):e._e()],1)])],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=11.5ef79926c6ec0e24f4bd.js.map