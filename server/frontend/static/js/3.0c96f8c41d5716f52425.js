webpackJsonp([3],{386:function(t,e,n){n(485);var a=n(32)(n(448),n(512),null,null);t.exports=a.exports},398:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(407),i=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default={props:{rows:{default:function(t){return[]}}},components:{Pagination:i.default},data:function(){return{page:1,pageSize:30}},computed:{total:function(){return this.rows.length},totalPages:function(){return Math.ceil(this.total/this.pageSize)},start:function(){return(this.page-1)*this.pageSize+1},end:function(){var t=this.page*this.pageSize;return t<=this.total?t:this.total}},watch:{rows:function(){this.updateRowVisibility()},pageSize:function(){this.updateRowVisibility()},page:function(){this.updateRowVisibility()}},methods:{updateRowVisibility:function(){var t=this;this.rows.forEach(function(e,n){e.visible=n>=t.start&&n<=t.end})}},created:function(){this.updateRowVisibility()}}},399:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{page:{default:1},total:{default:0},btnCount:{default:5}},data:function(){return{}},computed:{btns:function(){if(this.page>this.total)return[];for(var t=[],e=[],n={page:this.page,text:this.page},a=parseInt(this.page),i=parseInt(this.page),o=this.btnCount-1,s=!0;o>0&&(a>=1||i<=this.total);)s?(s=!s,--a>=1&&(o--,t.splice(0,0,{page:a,text:a}))):(s=!s,++i<=this.total&&(o--,e.push({page:i,text:i})));return[].concat(t,[n],e)}},methods:{goto:function(t){this.$emit("pagination",t)}}}},400:function(t,e,n){e=t.exports=n(383)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"DatatableFooter.vue",sourceRoot:""}])},401:function(t,e,n){e=t.exports=n(383)(!0),e.push([t.i,".pagination .btn-more{color:rgba(0,0,0,.54)!important}.pagination-sm .md-button{padding:0;min-width:inherit;min-height:inherit;width:24px;height:24px;line-height:24px;font-weight:400}","",{version:3,sources:["/home/he/www/works/car-tracking/src/components/Pagination.vue"],names:[],mappings:"AACA,sBACE,+BAAsC,CACvC,AACD,0BACE,UAAa,AACb,kBAAmB,AACnB,mBAAoB,AACpB,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,eAAoB,CACrB",file:"Pagination.vue",sourcesContent:["\n.pagination .btn-more {\n  color: rgba(0, 0, 0, 0.54) !important;\n}\n.pagination-sm .md-button {\n  padding: 0px;\n  min-width: inherit;\n  min-height: inherit;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  font-weight: normal;\n}\n"],sourceRoot:""}])},402:function(t,e,n){var a=n(400);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(384)("61f4f308",a,!0)},403:function(t,e,n){var a=n(401);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(384)("814113bc",a,!0)},406:function(t,e,n){n(402);var a=n(32)(n(398),n(408),null,null);t.exports=a.exports},407:function(t,e,n){n(403);var a=n(32)(n(399),n(409),null,null);t.exports=a.exports},408:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datatable-footer md-table-card"},[n("div",{staticClass:"md-table-pagination"},[n("span",{staticClass:"md-table-pagination-label"},[t._v(t._s(t.$t("rows"))+":")]),t._v(" "),n("md-select",{model:{value:t.pageSize,callback:function(e){t.pageSize=e},expression:"pageSize"}},[n("md-option",{attrs:{value:10}},[t._v("10")]),t._v(" "),n("md-option",{attrs:{value:30}},[t._v("30")]),t._v(" "),n("md-option",{attrs:{value:100}},[t._v("100")])],1),t._v(" "),n("span",{staticClass:"m-r"},[t._v(t._s(t.start)+"-"+t._s(t.end)+" of "+t._s(t.rows.length))]),t._v(" "),n("Pagination",{directives:[{name:"show",rawName:"v-show",value:t.totalPages>1,expression:"totalPages > 1"}],staticClass:"m-r",attrs:{total:t.totalPages,page:t.page},on:{pagination:function(e){t.page=e}}})],1)])},staticRenderFns:[]}},409:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination pagination-sm"},[n("div",{staticClass:"md-button-toggle md-primary md-theme-default"},[t.page>1?n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.goto(t.page-1)}}},[n("md-icon",[t._v("keyboard_arrow_left")])],1):t._e(),t._v(" "),t.btns[0]&&t.btns[0].page>1?n("md-button",{staticClass:"md-icon-button btn-more",nativeOn:{click:function(e){t.goto(t.btns[0].page-1)}}},[n("md-icon",[t._v("more_horiz")])],1):t._e(),t._v(" "),t._l(t.btns,function(e,a){return n("md-button",{key:a,staticClass:"md-icon-button",class:{"md-toggle":e.page==t.page},nativeOn:{click:function(n){t.goto(e.page)}}},[t._v("\n       "+t._s(e.text)+"\n     ")])}),t._v(" "),t.btns[t.btns.length-1]&&t.btns[t.btns.length-1].page<t.total?n("md-button",{staticClass:"md-icon-button btn-more",nativeOn:{click:function(e){t.goto(t.btns[t.btns.length-1].page+1)}}},[n("md-icon",[t._v("more_horiz")])],1):t._e(),t._v(" "),t.page<t.total?n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.goto(t.page+1)}}},[n("md-icon",[t._v("keyboard_arrow_right")])],1):t._e()],2)])},staticRenderFns:[]}},448:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(406),i=function(t){return t&&t.__esModule?t:{default:t}}(a),o=n(47),s=n(142),r=n(65);e.default={components:{DatatableFooter:i.default},data:function(){return{title:this.$t("dataListByGroup"),columns:[{name:"vrm_grp_id",text:this.$t("vrmGrpId")},{name:"total_score",text:this.$t("totalScore")},{name:"pcw_score",text:this.$t("pcwScore")},{name:"ufcw_score",text:this.$t("ufcwScore")},{name:"fcw_score",text:this.$t("fcwScore")},{name:"hmw_h_score",text:this.$t("hmwHScore")},{name:"hmw_m_score",text:this.$t("hmwMScore")},{name:"hmw_l_score",text:this.$t("hmwLScore")},{name:"lldw_score",text:this.$t("lldwScore")},{name:"rldw_score",text:this.$t("rldwScore")},{name:"spw_score",text:this.$t("spwScore")},{name:"vb_score",text:this.$t("vbScore")},{name:"aaw_score",text:this.$t("aawScore")},{name:"abw_score",text:this.$t("abwScore")},{name:"atw_score",text:this.$t("atwScore")},{name:"drv_distance",text:this.$t("drvDistance")},{name:"drv_duration",text:this.$t("drvDuration")},{name:"pcw",text:this.$t("pcw")},{name:"ufcw",text:this.$t("ufcw")},{name:"fcw",text:this.$t("fcw")},{name:"hmw_h",text:this.$t("hmwH")},{name:"hmw_m",text:this.$t("hmwM")},{name:"hmw_l",text:this.$t("hmwL")},{name:"lldw",text:this.$t("lldw")},{name:"rldw",text:this.$t("rldw")},{name:"spw",text:this.$t("spw")},{name:"vb",text:this.$t("vb")},{name:"aaw",text:this.$t("aaw")},{name:"abw",text:this.$t("abw")},{name:"atw",text:this.$t("atw")},{name:"start_date",text:this.$t("startDate"),valueProcessor:function(t){var e=t.value;return(0,s.format)(new Date(e),"MM-dd HH:mm")}},{name:"end_date",text:this.$t("endDate"),valueProcessor:function(t){var e=t.value;return(0,s.format)(new Date(e),"MM-dd HH:mm")}},{name:"type",text:this.$t("type")},{name:"avg_warn_id",text:this.$t("avgWarnId")}],rows:[],cache:{scoreColumnVisible:!1}}},computed:{scoreColumnVisible:{get:function(){return this.cache.scoreColumnVisible},set:function(){var t=this;this.cache.scoreColumnVisible=!this.cache.scoreColumnVisible,this.columns.forEach(function(e){e.name.indexOf("_score")>-1&&(e.visible=t.scoreColumnVisible)})}}},created:function(){(0,r.initColumns)(this,this.columns),this.getData()},mounted:function(){var t=this;this.$nextTick(function(){document.title=t.title})},methods:{getData:function(){var t=this;this.loading=!0,(0,o.retry)(function(){return t.$http.get("dao/v_avg_warning_vrm_grp_co")})().then(function(e){var n=e.data;t.rows=n.JSON.filter(function(e){return e.company_id===t.$store.state.user.company_id}),(0,r.initRows)(t,t.rows,t.columns),t.loading=!1}).catch(function(e){throw t.loading=!1,t.$alert(t.$t("loadFailed")),e})},onSort:function(t){(0,r.sortRows)(t,this.rows,this.columns)},exportExcel:function(){var t=this.columns,e=this.rows.map(function(e){var n=[];return t.forEach(function(t){var a=e[t.name];n.push(t.formatter?t.formatter(a):a)}),n}),n=t.map(function(t){return t.text});(0,r.generateExcel)(e,this.$t("loadFailed"),n)}}}},470:function(t,e,n){e=t.exports=n(383)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"AnalysisGroup.vue",sourceRoot:""}])},485:function(t,e,n){var a=n(470);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(384)("efb82636",a,!0)},512:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{staticClass:"m-a card-1"},[n("md-card-content",[n("h2",{staticClass:"md-title"},[t._v(t._s(t.$t("analysisGroup")))]),t._v(" "),n("div",{staticClass:"relative overflow-hidden-y"},[n("md-table",{attrs:{"md-sort":"vrm_id","md-sort-type":"asc"},on:{select:function(t){},sort:t.onSort}},[n("md-table-header",[n("md-table-row",t._l(t.columns,function(e){return e.visible?n("md-table-head",{key:e.name,attrs:{"md-sort-by":e.name}},[t._v(t._s(e.text))]):t._e()}))],1),t._v(" "),n("md-table-body",t._l(t.rows,function(e){return e.visible?n("md-table-row",{key:e.avg_warn_id,attrs:{"md-item":e}},t._l(t.columns,function(a){return a.visible?n("md-table-cell",{key:a.name},[t._v("\n             "+t._s(e[a.name])+"\n           ")]):t._e()})):t._e()}))],1),t._v(" "),n("Datatable-Footer",{attrs:{rows:t.rows}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"absolute-backdrop center-wrapper"},[n("md-spinner",{attrs:{"md-indeterminate":""}})],1)],1),t._v(" "),n("div",{staticClass:"card-buttons"},[n("md-switch",{staticClass:"md-primary",model:{value:t.scoreColumnVisible,callback:function(e){t.scoreColumnVisible=e},expression:"scoreColumnVisible"}},[t._v(t._s(t.$t("scoreColumn")))]),t._v(" "),n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.exportExcel(e)}}},[n("md-icon",[t._v("get_app")]),t._v(" "),n("md-tooltip",{attrs:{"md-direction":"bottom"}},[t._v(t._s(t.$t("export")))])],1),t._v(" "),n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.getData()}}},[n("md-icon",[t._v("refresh")]),t._v(" "),n("md-tooltip",{attrs:{"md-direction":"bottom"}},[t._v(t._s(t.$t("refresh")))])],1),t._v(" "),n("fullscreen-button")],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=3.0c96f8c41d5716f52425.js.map